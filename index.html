<!DOCTYPE html>
<html>
    <head>
        <title>BCH Statistics - Merchant Fee Calculator</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
        <link rel="stylesheet" type="text/css" href="/assets/fees.css" media="all">
        <script src="/assets/jquery-3.4.0.min.js"></script>
        <script src="https://paybutton.cash/pre-release/v0.1/js/paybutton.min.js"></script>
        <script src="assets/fees.js"></script>
    </head>
    <body>

        <div class="topnav">
            <ul>
                <li><a href="">BCH Statistics</a></li>
                <li><a href="/">Merchant Fees</a></li>
            </ul>
        </div>

        <div class="page_wrapper">
            <header>
                <h2>Merchant Fees</h2>
                <p>Because fees paid by a normal single input, two output transaction is vastly different to that of a merchant.</p>
            </header>
            <div class="merchant_profile">
                <img id="merchant_icon" src="/assets/small_merchant.svg">
                <div class="">
                    <div id="merchant_name"><p>loading..</p></div>
                    <h2><input type="submit" onclick="updateMerchant('small');" value="Small Merchant"></button><input type="submit" onclick="updateMerchant('medium');" value="Medium Merchant"></button><input type="submit" onclick="updateMerchant('large');" value="Large Merchant"></button><input type="submit" onclick="updateMerchant('custom');" value="Custom"></button></h2>
                    <div id="merchant_desc"><p>loading..</p></div>
                </div>
            </div>
            <div class="fee_container">
                <div class="fee_box btc_fees">
                    <p>Calculating..</p>
                </div>
                <div class="fee_box bch_fees">
                    <p>Calculating..</p>
                </div>
                <div class="fee_box paypal_fees">
                    <p>Calculating..</p>
                </div>
                <div class="fee_box stripe_fees">
                    <p>Calculating..</p>
                </div>
            </div>
            <p>*fee estimates in satoshis are provided in realtime by earn.com</p>
        </div>
        <script>
            window.onload = function (event) {
                var hash = window.location.hash.substr(1);

                var matched = /custom-([^\n\r]*)-([^\n\r]*)-([^\n\r]*)/g.exec(hash);
                if (matched) {
                    console.log(matched);

                    var product_price = matched[1];
                    var txin = matched[2];
                    var feetype = matched[3];
                    updateMerchant('custom');
                    window.location.hash = '#'+hash;
                    loadCustom(product_price,txin,feetype);

                } else if (hash !== null && hash !== undefined && hash !== "") {
                    console.log('Merchant type: '+hash);
                    updateMerchant(hash);
                } else if (hash == null || hash == undefined || hash == "") {
                    updateMerchant('small');
                    window.location.hash = '#small';
                }

            };
            
        </script>
        <div class="donate">
            <button class="pay-button" amount="1" amount-type="USD" button-text="Donate BCH" address="bitcoincash:qr93wcn747v3gxdv9zd4074tzl7f227rh583l3r6h2"></button>
        </div>
        <footer>
            <a target="_blank" href="https://github.com/kosinusbch/stats.bch.sx">View on GitHub</a> - <a target="_blank" href="https://t.me/fountainheadcash">Developer Telegram</a>
        </footer>
    </body>
</html>